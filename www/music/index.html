<!DOCTYPE html>
<html lang="en">
  <head>
  
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="js/popcorn-complete.min.js"></script>



    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="ico/favicon.png">

    <title>ONAmusic</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->

    <script src="js/bootstrap.js"></script>
    <!--<script src="js/angular.min.js"></script>-->
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>
  <script>

    $.getJSON('../../data/events.json', listArtists);
    function listArtists(data){

      var infoHTML = ' ';
      var myIndex =0 ; 

      $.each(data,  function(artists, artists) {
        console.log( "Lenght of nearby_restaurants = " + artists.nearby_restaurants_count)


        console.log("hello");
        console.log(artists.artists);
        //console.log(myIndex);
        infoHTML += '<p>Artist: <b>' + artists.artists + '</b></p>';
        infoHTML += '<p>Venue: <b>' +artists.venue.name + '</b></p><p> Distance from Marriott Marquis: <b>' + artists.venue.distance_from_hotel + '</b> </p>';

        

        if(artists.nearby_restaurants_count == 0){
        console.log("false to nearby_restaurants")
        //return false;
        infoHTML += "<p>Restaurants: Sorry, there are no restaurants in the area.</p> <br />";
      }else{
        //console.log(index)

        for (var i=0;i<artists.nearby_restaurants_count;i++){

        infoHTML += '<p>Restaurants' + artists.nearby_restaurants[i].restaurant.title + '</p> <br />'

      };
      };

        

          // myIndex = $(this).index() + myIndex ;
          // console.log("myIndex= " + myIndex);
          //var d = data.fields

          // else {console.log("jggj")};
          
          // if(restaurant = null ){
          //   console.log("none");
          // }

          // if(title = ''){
          //   console.log("none");
          // }

          //console.log(artists.nearby_restaurants[0]);


        //for(var i=0; i<artists.nearby_restaurants[index])
        //infoHTML += '<p>Restaurants: <b>' + artists.nearby_restaurants[0].title + '</b></p><br />';
      
          
        //console.log(artists[i].nearby_restaurants.restaurant.title[i])
       });    

      $('#info').html(infoHTML);
    };



    </script>

    <!--popcorn script-->
     <script>
      // ensure the web page (DOM) has loaded
      document.addEventListener("DOMContentLoaded", function () {
 
         // Create a popcorn instance by calling the Vimeo player plugin
         var example = Popcorn.vimeo(
         '#video',
         'http://player.vimeo.com/video/76991191');

         example.timeline({
          start: 1,
          target: "timeline",
          title: "ONA13",
          text: "things and stuff stuff and things",
          direction: "up,"

         });
 
         // add a footnote at 2 seconds, and remove it at 6 seconds
         // example.footnote({
         //   start: 2,
         //   end: 6,
         //   text: "Pop!",
         //   target: "footnotediv"
         // });
 
         // play the video right away
         example.play();
 
      }, false);
    </script>


  <body>
    
    <!-- Wrap all page content here -->
    <div id="wrap">

      <!-- Begin page content -->
      <div class="container">
        <div class="page-header">
          <h1>ONAmusic</h1>
          <br />
        </div>
        <div class="row">
          <div class="col-md-6">
   <div id="video" style="width: 360px; height: 300px;" ></div>
 </div><!--col-->
 <div class="col-md-6">
    <div id="timeline"></div>
  </div><!--col-->
</div><!--row-->
        <br />



          <div id="info"> </div>
        
      </div>
      </div>
    </div>

    <div id="footer">


    <!-- Bootstrap core JavaScript
    ==================================================
    <!-- Placed at the end of the document so the pages load faster -->
  </body>
</html>